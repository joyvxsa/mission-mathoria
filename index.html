<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mission Mathoria</title>

<style>
body{
margin:0;
font-family:Comic Sans MS;
text-align:center;
background:linear-gradient(#020024,#090979,#000);
color:white;
overflow:hidden;
}

h1{margin-top:20px;}

#startScreen{
margin-top:120px;
}

input{
font-size:22px;
padding:6px;
margin:8px;
text-align:center;
}

button{
font-size:20px;
padding:8px 15px;
margin-top:15px;
cursor:pointer;
}

#gameScreen{
display:none;
}

#turn{
font-size:26px;
margin:5px;
}

#timer{
font-size:28px;
margin:5px;
}

#question{
font-size:42px;
margin:15px;
}

#message{
position:absolute;
top:45%;
left:50%;
transform:translate(-50%,-50%);
font-size:80px;
font-weight:bold;
display:none;
}

#earth{
position:absolute;
bottom:80px;
left:8%;
font-size:70px;
}

#moon{
position:absolute;
top:40px;
right:8%;
font-size:120px;
transition:1s;
}

#path{
position:absolute;
bottom:130px;
left:50%;
transform:translateX(-50%);
display:flex;
gap:5px;
}

.step{
width:45px;
height:45px;
border:2px solid white;
border-radius:8px;
}

.rocket{
position:absolute;
bottom:140px;
font-size:45px;
transition:1s;
}

#rocket1{ left:10%; }
#rocket2{ left:10%; transform:translateY(-55px); }

</style>
</head>

<body>

<div id="startScreen">
<h1>ğŸš€ Mission Mathoria ğŸš€</h1>
<input id="team1Input" placeholder="Team 1 Name"><br>
<input id="team2Input" placeholder="Team 2 Name"><br>
<button onclick="startGame()">Start Game ğŸš€</button>
</div>

<div id="gameScreen">

<h1>ğŸš€ Mission Mathoria ğŸš€</h1>
<div id="turn"></div>
<div id="timer">â³ 20</div>
<div id="question"></div>

<input type="number" id="answer">
<button onclick="checkAnswer()">OK</button>

<div id="message"></div>

<div id="earth">ğŸŒ</div>
<div id="moon">ğŸŒ•</div>
<div id="path"></div>

<div id="rocket1" class="rocket">ğŸš€</div>
<div id="rocket2" class="rocket">ğŸš€</div>

</div>

<script>

let steps = 15;
let currentPlayer = 1;
let pos1 = 0;
let pos2 = 0;
let answerValue = 0;
let timer;
let timeLeft = 20;
let team1 = "Team 1";
let team2 = "Team 2";
let moonSize = 120;
let stepReward = 1;

/* Sounds */
const bravoSound = new Audio("https://actions.google.com/sounds/v1/crowds/applause.ogg");
const oopsSound = new Audio("https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg");
const rocketSound = new Audio("https://actions.google.com/sounds/v1/science_fiction/rocket_launch.ogg");

function startGame(){
team1 = document.getElementById("team1Input").value || "Team 1";
team2 = document.getElementById("team2Input").value || "Team 2";

document.getElementById("startScreen").style.display="none";
document.getElementById("gameScreen").style.display="block";

createPath();
updateTurn();
generateQuestion();
}

function createPath(){
const path = document.getElementById("path");
for(let i=0;i<steps;i++){
let box=document.createElement("div");
box.className="step";
path.appendChild(box);
}
}

function updateTurn(){
document.getElementById("turn").innerText =
currentPlayer===1 ? "ğŸ”µ "+team1+"'s Turn" : "ğŸŸ£ "+team2+"'s Turn";
}

function startTimer(){
timeLeft=20;
document.getElementById("timer").innerText="â³ "+timeLeft;
timer=setInterval(()=>{
timeLeft--;
document.getElementById("timer").innerText="â³ "+timeLeft;
if(timeLeft<=0){
clearInterval(timer);
showMessage("OH NO, TRY AGAIN!","red");
oopsSound.play();
switchTurn();
}
},1000);
}

function generateQuestion(){

let easy = Math.random()<0.7;

if(easy){
stepReward=1;
let a = Math.floor(Math.random()*9)+1;
let b = Math.floor(Math.random()*9)+1;
let op = ["+","-","Ã—"][Math.floor(Math.random()*3)];

if(op==="Ã—"){
b=Math.floor(Math.random()*5)+1;
answerValue=a*b;
}else if(op==="+"){
answerValue=a+b;
}else{
answerValue=a-b;
}

document.getElementById("question").innerText=a+" "+op+" "+b;
}else{
stepReward=2;
let a=Math.floor(Math.random()*9)+1;
let b=Math.floor(Math.random()*9)+1;
let c=Math.floor(Math.random()*9)+1;
answerValue=a+b+c;
document.getElementById("question").innerText=a+" + "+b+" + "+c;
}

startTimer();
}

function checkAnswer(){
clearInterval(timer);
let user = Number(document.getElementById("answer").value);

if(user===answerValue){
showMessage("BRAVO!!!","lime");
bravoSound.play();
rocketSound.play();
moveRocket(stepReward);
moonSize+=10;
document.getElementById("moon").style.fontSize=moonSize+"px";
}else{
showMessage("OH NO, TRY AGAIN!","red");
oopsSound.play();
switchTurn();
}

document.getElementById("answer").value="";
}

function moveRocket(stepGain){

let stepWidth=50;

if(currentPlayer===1){
pos1+=stepGain;
document.getElementById("rocket1").style.transform="translateX("+(pos1*stepWidth)+"px)";
if(pos1>=steps){ alert(team1+" Wins!"); location.reload(); }
}else{
pos2+=stepGain;
document.getElementById("rocket2").style.transform="translateX("+(pos2*stepWidth)+"px) translateY(-55px)";
if(pos2>=steps){ alert(team2+" Wins!"); location.reload(); }
}

setTimeout(()=>{
switchTurn();
},1500);
}

function switchTurn(){
currentPlayer=currentPlayer===1?2:1;
updateTurn();
generateQuestion();
}

function showMessage(text,color){
let msg=document.getElementById("message");
msg.innerText=text;
msg.style.color=color;
msg.style.display="block";

setTimeout(()=>{
msg.style.display="none";
},1200);
}

</script>

</body>
</html>
